# Customer Personality Analysis  
![Project Status](https://img.shields.io/badge/Project%20Status-ongoing-orange)

## üìå Overview  
Customer Personality Analysis helps businesses understand customer behavior, segment users, and provide personalized recommendations. This project leverages **Machine Learning Operations (MLOps)** to streamline model training, deployment, and monitoring.

## ‚ö† Important Note  
- **Python Version:** Please ensure you are using **Python 3.12** to maintain compatibility with the project's dependencies and requirements.

---

## üìÇ Project Navigation  
üìÅ [**Notebooks**](notebooks/) | üìÅ [**Pipelines**](src/pipeline/) | üìÅ [**Airflow DAGs**](airflow/dags/) | üìÅ [**Docs**](docs/) | üìÅ [**Deployment**](deployment/)

---

## ‚úÖ Completed Work 

Customer-Personality-Analysis/

# üçΩÔ∏è Customer Personality Analysis
![Project Status](https://img.shields.io/badge/Project%20Status-ongoing-orange)

## üíÅÔ∏è Project Structure
```
Restaurant-Rating-Prediction/
‚îÇ
‚îú‚îÄ‚îÄ .dockerignore                     # üö´ Ignore files for Docker
‚îú‚îÄ‚îÄ .env                              # üîë Environment variables
‚îú‚îÄ‚îÄ .gitignore                        # üö´ Ignore files for Git
‚îÇ
‚îú‚îÄ‚îÄ .github/
‚îÇ   ‚îî‚îÄ‚îÄ workflows/
‚îÇ       ‚îî‚îÄ‚îÄ main.yaml                 # ‚öôÔ∏è GitHub Actions CI/CD pipeline
‚îÇ
‚îú‚îÄ‚îÄ airflow/                          # üí® Apache Airflow DAGs
‚îÇ   ‚îî‚îÄ‚îÄ dags/                         # üìÖ Workflow DAGs
‚îÇ       ‚îú‚îÄ‚îÄ clustering_pipeline.py# üîç Airflow DAG for clustering
‚îÇ       ‚îî‚îÄ‚îÄ training_pipeline.py      # üéØ Airflow DAG for model training
‚îÇ
‚îú‚îÄ‚îÄ artifact/                        # üêÇ Contains all intermediate and final outputs
‚îú‚îÄ‚îÄ clustered_files/                  # üìÇ Clustered processed files
‚îú‚îÄ‚îÄ data_dump.py                      # üõãÔ∏è Dumps data into MongoDB Atlas
‚îú‚îÄ‚îÄ docker-compose.yml                # üîß Docker Compose for multi-container setup
‚îú‚îÄ‚îÄ Dockerfile                        # üí™ Docker image setup
‚îÇ
‚îú‚îÄ‚îÄ LICENSE                           # üìö MIT License file
‚îú‚îÄ‚îÄ main.py                           # üöÄ Entry point for training and predictions
‚îú‚îÄ‚îÄ notebook/                         # üìö Jupyter notebooks
‚îÇ   ‚îú‚îÄ‚îÄ EDA & Feature_Engineering.ipynb        # üîÑ Exploratory Data Analysis
‚îÇ   ‚îú‚îÄ‚îÄ Preprocessing & Model_training.ipynb   # üéì Model training steps
‚îÇ
‚îú‚îÄ‚îÄ README.md                         # üìñ Project documentation
‚îú‚îÄ‚îÄ requirements.txt                  # üìå Dependencies for the project
‚îú‚îÄ‚îÄ saved_models/                     # üéØ Production-ready models and transformers
‚îú‚îÄ‚îÄ setup.py                          # ‚öôÔ∏è Package setup for `src`
‚îÇ
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ components/                   # üè¢ Core pipeline components
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ data_ingestion.py         # üìÖ Handles data collection
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ data_transformation.py    # üîÑ Prepares data for training
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ data_validation.py        # ‚úÖ Validates raw data
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ model_evaluation.py       # üìä Evaluates the model
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ model_pusher.py           # üöÄ Pushes the trained model to deployment
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ model_training.py         # üéì Trains the machine learning model
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ config.py                     # ‚öôÔ∏è Configuration management and environment variables
‚îÇ   ‚îú‚îÄ‚îÄ entity/                       # üìÜ Data structures for pipeline
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ artifact_entity.py        # üêÇ Artifacts generated by pipeline stages
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ config_entity.py          # ‚öôÔ∏è Configuration-related entities
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ exceptions.py                 # ‚ùó Custom exception handling
‚îÇ   ‚îú‚îÄ‚îÄ logger.py                     # üíú Logging setup
‚îÇ   ‚îú‚îÄ‚îÄ pipeline/                     # üîÑ Pipeline automation
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ clustering_pipeline.py    # üîç Handles clustering predictions
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ training_pipeline.py      # üéØ Automates training workflow
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ utils.py                      # üõ†Ô∏è Utility functions
```

### üîÑ EDA & Feature Engineering  
[![Completed EDA & FE](https://img.shields.io/badge/AlmostDone-EDA%20%26%20FE-blue)](notebooks/EDA%20&%20Feature_Engineering.ipynb)  
[![Completed Preprocessing & Model Training](https://img.shields.io/badge/AlmostDone-Preprocessing%20%26%20Model%20Training-blue)](notebooks/Preprocessing%20%26%20Model_training.ipynb)

### üîÑ Machine Learning Pipelines  
[![Completed Training Pipeline](https://img.shields.io/badge/Completed-Training%20Pipeline-green)](src/pipeline/training_pipeline.py)  
[![Completed Clustering Prediction Pipeline](https://img.shields.io/badge/Completed-Cluster%20Pipeline-green)](src/pipeline/cluster_prediction_pipeline.py)

### üîÑ Airflow DAGs  
[![Completed Airflow DAG](https://img.shields.io/badge/Completed-Airflow%20DAG-green)](airflow/dags)  
- [`training_pipeline.py`](airflow/dags/training_pipeline.py)  
- [`clustering_pipeline_dag.py`](airflow/dags/clustering_pipeline_dag.py)

---

## üìú Architecture Documentation  
[![HLD (High-Level Design)](https://img.shields.io/badge/Available-HLD-blue)](docs/HLD.pdf)  
[![LLD (Low-Level Design)](https://img.shields.io/badge/Available-LLD-blue)](docs/LLD.pdf)  
[![DPR (Detailed Project Report)](https://img.shields.io/badge/Available-DPR-blue)](docs/DPR.pdf)

---

## üöÄ Step-by-Step Deployment Guide  

### 1Ô∏è‚É£ **AWS EC2 Instance Setup**  
üìå **Steps:**  
- Create an EC2 instance  
- Configure security groups  
- SSH into the instance  

üì∫ **GIF Demo:**  
![EC2 Setup](deployment/gifs/ec2_setup.gif)  

**Install Docker:**
   SSH into your EC2 instance and run the following commands:

   ```bash
   curl -fsSL https://get.docker.com -o get-docker.sh
   sudo sh get-docker.sh
   sudo usermod -aG docker ubuntu
   newgrp docker
   docker --version
  ```

üì∫ **GIF Demo:**  
![EC2 Runner Activation](deployment/gifs/ec2_setup.gif)

> **GitHub Runner Setup:**  
> After SSH-ing into your EC2 instance, set up the GitHub self-hosted runner by executing the following commands:

> ```bash
> # Create a directory for the GitHub Actions runner and navigate into it
> mkdir actions-runner && cd actions-runner
> 
> # Download the latest runner package (update the version as needed)
> curl -o actions-runner-linux-x64.tar.gz -L https://github.com/actions/runner/releases/download/v2.300.0/actions-runner-linux-x64-2.300.0.tar.gz
> 
> # Extract the runner package
> tar xzf actions-runner-linux-x64.tar.gz
> 
> # Configure the runner (replace <REPO_URL> and <RUNNER_TOKEN> with your repository URL and runner token)
> ./config.sh --url https://github.com/<your-username>/<your-repository> --token <RUNNER_TOKEN>
> 
> # Start the runner
> ./run.sh
> ```
>  
> *Note: Ensure you have generated a runner token from your GitHub repository's settings under "Actions" ‚Üí "Runners".*

### 3Ô∏è‚É£ **IAM Role & Access Key Setup**  
üìå **Steps:**  
- Create an IAM user  
- Attach necessary policies (e.g., `S3FullAccess`, `EC2FullAccess`)  
- Generate `AWS_ACCESS_KEY_ID` & `AWS_SECRET_ACCESS_KEY` 

 ### 2Ô∏è‚É£ **AWS S3 Bucket Creation**  
üìå **Steps:**  
- Navigate to AWS S3  
- Create a bucket  
- Set access permissions  

## üê≥ AWS ECR Creation Steps
### 1Ô∏è‚É£ **Create ECR Repository**  
- Open the **Amazon ECR console** at https://console.aws.amazon.com/ecr.
- Select **Repositories** from the left menu and click on **Create repository**.
- Choose a **private repository** type and provide a **repository name** (e.g., `customer-personality-analysis`).
- Click **Create repository**.

### 4Ô∏è‚É£ **GitHub Repository & Secrets Configuration**  
üìå **Steps:**  
- Create a GitHub repository  
- Navigate to `Settings` ‚Üí `Secrets and variables` ‚Üí `Actions`  
- Add the following secrets:  

  | Secret Name              | Description                      |
  |--------------------------|----------------------------------|
  | `AWS_ACCESS_KEY_ID`      | AWS Access Key                   |
  | `AWS_SECRET_ACCESS_KEY`  | AWS Secret Access Key            |
  | `AWS_REGION`             | AWS Region (e.g., `us-east-1`)     |
  | `BUCKET_NAME`            | S3 Bucket Name                   |
  | `MONGO_DB_URL`           | MongoDB Connection URL           |
  | `ECR_REPOSITORY_NAME`    | AWS ECR Repository Name          |
  | `AWS_ECR_LOGIN_URI`      | AWS ECR Login URI                |

üì∫ **GIF Demo:**  
![GitHub Secrets](deployment/gifs/github_secrets.gif)  

### 5Ô∏è‚É£ **GitHub Actions CI/CD (`main.yml`)**  
üìå **Steps:**  
- Configure `.github/workflows/main.yml`  
- Automate deployment to AWS  

üìÑ **GitHub Actions Workflow:**  
[![View GitHub Actions Workflow](https://img.shields.io/badge/View-Main.yml-blue?logo=github)](.github/workflows/main.yml)


